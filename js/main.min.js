$(".object-tab").click(function() {
    $(".object-tab").removeClass("_active")
    $(this).addClass("_active")
})

let videos = document.querySelectorAll(".video video")

videos.forEach(video => {
    if(video){
        video.addEventListener('click',function(){
            video.play();
        },false);
        video.click();
        video.play();
    }
})

$(".burger").click(function () {
    $(".header").toggleClass("_open")
    $("body").toggleClass("fixed-body")
})

$(".nav__link").click(function () {
    $(".header").removeClass("_open")
    $("body").removeClass("fixed-body")
})

$(window).scroll(function(){
    setFixHeader()
});
$(window).resize(function(){
    setFixHeader()
    document.documentElement.style.setProperty('--headerHeight', `${getHeaderHeight()}px`);
});

document.documentElement.style.setProperty('--headerHeight', `${getHeaderHeight()}px`);

setFixHeader()


function setFixHeader() {
    let headerHeight = getHeaderHeight()
    let st = $(this).scrollTop();
    if(st > headerHeight * 0.5){
        $(".header").addClass("_fix")
    } else{
        $(".header").removeClass("_fix")
    }
}

function getHeaderHeight() {
    let header = document.querySelector(".header")
    if(!header){
        return
    }
    return header.getBoundingClientRect().height
}


animate()
$(window).scroll(function() {
    animate()
});


function animate() {
    $("._animate").each(function(index, el) {
        let wt = $(window).scrollTop();
        let wh = $(window).height();
        let et = $(el).offset().top;
        let eh = $(el).outerHeight();
        let dh = $(document).height();
        if (wt + wh >= et || wh + wt == dh || eh + et < wh) {
            $(el).addClass("_animated")
        }
    });
}


let body = document.querySelector("body")
let modalTogglers = document.querySelectorAll("[data-modal]")
let modals = document.querySelectorAll(".modal")

modalTogglers.forEach(el => {
    el.onclick = function () {
        let modalId = el.getAttribute("data-modal")
        openModal(modalId)
    }
})

function closeModals() {
    modals.forEach(modal => {
        modal.classList.remove("_active")
        body.classList.remove("fixed-body2")
    })
}

function openModal(modalId) {
    closeModals()
    let modal = document.querySelector(`#${modalId}`)
    let closeButtons = modal.querySelectorAll(`._close-modal`)

    modal.classList.add("_active")
    body.classList.add("fixed-body2")


    closeButtons.forEach(btn => {
        btn.onclick = ()=> {
            modal.classList.remove("_active")
            body.classList.remove("fixed-body2")
        }
    })
}

var getScrollBarSize = (function() {
    var el = window.document.createElement('textarea'), style = {
        'visibility': 'hidden', 'position': 'absolute', 'zIndex': '-2147483647',
        'top': '-1000px', 'left': '-1000px', 'width': '1000px', 'height': '1000px',
        'overflow': 'scroll', 'margin': '0', 'border': '0', 'padding': '0'
    }, support = el.clientWidth !== undefined && el.offsetWidth !== undefined;

    for (var key in style) {
        if (style.hasOwnProperty(key)) {
            el.style[key] = style[key];
        }
    }

    return function() {
        var size = null;
        if (support && window.document.body) {
            window.document.body.appendChild(el);
            size = [el.offsetWidth - el.clientWidth, el.offsetHeight - el.clientHeight];
            window.document.body.removeChild(el);
        }

        document.documentElement.style.setProperty('--scrollWidth', `${size[0]}px`);
        return size;
    };
})();


window.addEventListener('DOMContentLoaded', () => {
    fix100vh();
    window.addEventListener('resize', () => {
        fix100vh();
        getScrollBarSize()
    })

    getScrollBarSize()
    $('input[type="tel"]').mask('+7 (999) 999-99-99', { autoclear: false }, { placeholder: '+7 (   )    -  -  ' });
})

function fix100vh() {
    let vh = window.innerHeight * 0.01;
    document.documentElement.style.setProperty('--vh', `${vh}px`);
}

//# sourceMappingURL=../sourcemaps/main.min.js.map
